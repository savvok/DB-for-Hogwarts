CREATE TABLE s308491.Map(Map_id SERIAL PRIMARY KEY, Name VARCHAR(20) NOT NULL, Coordinates_long REAL NOT NULL, Coordinates_lat REAL NOT NULL);

CREATE TABLE s308491.Location(Location_id SERIAL PRIMARY KEY, Name VARCHAR(30) NOT NULL, aviable_visit BOOL, Amount_people INTEGER NOT NULL, Map_id INTEGER REFERENCES s308491.Map NOT NULL);

CREATE TABLE s308491.Living_building(Living_building_id SERIAL PRIMARY KEY, Location_id INTEGER REFERENCES s308491.Location NOT NULL, Faculty VARCHAR(10), Amount INTEGER NOT NULL);

CREATE TABLE s308491.People(People_id SERIAL PRIMARY KEY, Name VARCHAR(40) NOT NULL, Living_building_id INTEGER REFERENCES s308491.Living_building, Faculty VARCHAR(10), Post VARCHAR(10), Access_map BOOL);

CREATE TABLE s308491.Premises(Premises_id SERIAL PRIMARY KEY, Name TEXT NOT NULL, Description TEXT, Location_id INTEGER REFERENCES s308491.Location NOT NULL);


CREATE TABLE s308491.Tracking(Tracking_id SERIAL PRIMARY KEY, People_id INTEGER REFERENCES s308491.People NOT NULL, Location_id INTEGER REFERENCES s308491.Location, Time TIMESTAMP NOT NULL, Disturbance_fixation BOOL);

CREATE TABLE s308491.Curator(Curator_id SERIAL PRIMARY KEY, People_id INTEGER REFERENCES s308491.People NOT NULL, Magic_skills VARCHAR(50));

CREATE TABLE s308491.Phoenix(Phoenix_id SERIAL PRIMARY KEY, People_id INTEGER REFERENCES s308491.People NOT NULL, Reincarnation INTEGER);

CREATE TABLE s308491.Observation(Map_id INTEGER REFERENCES s308491.Map NOT NULL, Curator_id INTEGER REFERENCES s308491.Curator, Phoenix_id INTEGER REFERENCES s308491.Phoenix, Time TIMESTAMP NOT NULL);

CREATE TABLE s308491.Feed(Time TIMESTAMP NOT NULL, Curator_id INTEGER REFERENCES s308491.Curator NOT NULL, Phoenix_id INTEGER REFERENCES s308491.Phoenix NOT NULL);

CREATE TABLE s308491.Alert(Alert_id SERIAL PRIMARY KEY, Time TIMESTAMP NOT NULL, Phoenix_id INTEGER REFERENCES s308491.Phoenix NOT NULL, Tracking_id INTEGER REFERENCES s308491.Tracking NOT NULL);

CREATE TABLE s308491.Disturbance(Disturbance_id SERIAL PRIMARY KEY, Time TIMESTAMP, Danger VARCHAR(15) NOT NULL, people_distr INTEGER REFERENCES s308491.People NOT NULL, people_protector INTEGER REFERENCES s308491.People, Phoenix_id INTEGER REFERENCES s308491.Phoenix, Curator_id INTEGER REFERENCES s308491.Curator, Location_id INTEGER REFERENCES s308491.Location NOT NULL, Alert_id INTEGER REFERENCES s308491.Alert);


CREATE TABLE s308491.Disturbance_fixation(Disturbance_id INTEGER REFERENCES s308491.Disturbance NOT NULL , People_id INTEGER REFERENCES s308491.People NOT NULL);
